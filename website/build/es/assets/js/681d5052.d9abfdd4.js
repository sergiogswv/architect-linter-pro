"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1256],{6059(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"technical/config-validation","title":"Configuration Validation","description":"Date: 2026-02-17","source":"@site/docs/technical/config-validation.md","sourceDirName":"technical","slug":"/technical/config-validation","permalink":"/architect-linter-pro/es/docs/technical/config-validation","draft":false,"unlisted":false,"editUrl":"https://github.com/sergiogswv/architect-linter-pro/tree/main/website/docs/technical/config-validation.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Configuration Validation","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Error Handling & Logging","permalink":"/architect-linter-pro/es/docs/technical/error-handling"},"next":{"title":"Framework Guides","permalink":"/architect-linter-pro/es/docs/category/framework-guides"}}');var c=i(4848),s=i(8453);const r={title:"Configuration Validation",sidebar_position:4},t="Configuration Schema Validation Implementation",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Components Implemented",id:"components-implemented",level:2},{value:"1. JSON Schema (<code>schemas/architect.schema.json</code>)",id:"1-json-schema-schemasarchitectschemajson",level:3},{value:"2. Validation Engine Integration (<code>src/config/loader.rs</code>)",id:"2-validation-engine-integration-srcconfigloaderrs",level:3},{value:"3. Configuration Migration (<code>src/config/migration.rs</code>)",id:"3-configuration-migration-srcconfigmigrationrs",level:3},{value:"4. IDE Support (<code>.vscode/settings.json</code>)",id:"4-ide-support-vscodesettingsjson",level:3},{value:"5. CLI Check Mode (<code>src/cli.rs</code>, <code>src/main.rs</code>)",id:"5-cli-check-mode-srcclirs-srcmainrs",level:3},{value:"6. Husky Integration (<code>src/config/husky.rs</code>)",id:"6-husky-integration-srcconfighuskyrs",level:3},{value:"Usage",id:"usage",level:2},{value:"Validate configuration only",id:"validate-configuration-only",level:3},{value:"Enable autocompletion in your project",id:"enable-autocompletion-in-your-project",level:3},{value:"Testing",id:"testing",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"configuration-schema-validation-implementation",children:"Configuration Schema Validation Implementation"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Date:"})," 2026-02-17\n",(0,c.jsx)(n.strong,{children:"Version:"})," v4.3.0"]}),"\n",(0,c.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,c.jsxs)(n.p,{children:["This document summarizes the implementation of full JSON Schema validation for the ",(0,c.jsx)(n.code,{children:"architect.json"})," configuration file, improving developer experience (DX) and preventing misconfigurations."]}),"\n",(0,c.jsx)(n.h2,{id:"components-implemented",children:"Components Implemented"}),"\n",(0,c.jsxs)(n.h3,{id:"1-json-schema-schemasarchitectschemajson",children:["1. JSON Schema (",(0,c.jsx)(n.code,{children:"schemas/architect.schema.json"}),")"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Created a comprehensive draft-07 JSON Schema."}),"\n",(0,c.jsxs)(n.li,{children:["Defines types, descriptions, and constraints for all configuration fields:","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$schema"}),": URL/path to the schema itself."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"max_lines_per_function"}),": Integer limit."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"architecture_pattern"}),": Enum of supported patterns."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"forbidden_imports"}),": Array of rule objects with ",(0,c.jsx)(n.code,{children:"from"})," and ",(0,c.jsx)(n.code,{children:"to"})," strings."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ignored_paths"}),": Array of glob patterns."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"performance"}),": Performance tuning settings."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ai"}),": AI fallback configuration."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.h3,{id:"2-validation-engine-integration-srcconfigloaderrs",children:["2. Validation Engine Integration (",(0,c.jsx)(n.code,{children:"src/config/loader.rs"}),")"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["integrated the ",(0,c.jsx)(n.code,{children:"jsonschema"})," crate."]}),"\n",(0,c.jsx)(n.li,{children:"Added a validation step before deserialization."}),"\n",(0,c.jsx)(n.li,{children:"Provides clear, actionable error messages when the configuration violates the schema."}),"\n"]}),"\n",(0,c.jsxs)(n.h3,{id:"3-configuration-migration-srcconfigmigrationrs",children:["3. Configuration Migration (",(0,c.jsx)(n.code,{children:"src/config/migration.rs"}),")"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Added a migration layer to handle legacy configuration formats."}),"\n",(0,c.jsx)(n.li,{children:"Ensures that even if the internal structure changes, old user configurations are gracefully upgraded before validation."}),"\n"]}),"\n",(0,c.jsxs)(n.h3,{id:"4-ide-support-vscodesettingsjson",children:["4. IDE Support (",(0,c.jsx)(n.code,{children:".vscode/settings.json"}),")"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Configured VS Code to automatically associate ",(0,c.jsx)(n.code,{children:"architect.json"})," and ",(0,c.jsx)(n.code,{children:"architect.json.example"})," with the new schema."]}),"\n",(0,c.jsxs)(n.li,{children:["Enables:","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Real-time validation in the editor."}),"\n",(0,c.jsx)(n.li,{children:"Property autocompletion."}),"\n",(0,c.jsx)(n.li,{children:"Hover information for configuration fields."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.h3,{id:"5-cli-check-mode-srcclirs-srcmainrs",children:["5. CLI Check Mode (",(0,c.jsx)(n.code,{children:"src/cli.rs"}),", ",(0,c.jsx)(n.code,{children:"src/main.rs"}),")"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Added a ",(0,c.jsx)(n.code,{children:"--check"})," flag to the CLI."]}),"\n",(0,c.jsx)(n.li,{children:"Responds by only validating the configuration and exiting with a success/failure code."}),"\n",(0,c.jsx)(n.li,{children:"Optimized for CI/CD and pre-commit hooks."}),"\n"]}),"\n",(0,c.jsxs)(n.h3,{id:"6-husky-integration-srcconfighuskyrs",children:["6. Husky Integration (",(0,c.jsx)(n.code,{children:"src/config/husky.rs"}),")"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Updated the pre-commit hook generator to include an explicit ",(0,c.jsx)(n.code,{children:"--check"})," phase."]}),"\n",(0,c.jsx)(n.li,{children:"Prevents commits if the architecture configuration file is malformed."}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,c.jsx)(n.h3,{id:"validate-configuration-only",children:"Validate configuration only"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"architect-linter-pro --check .\n"})}),"\n",(0,c.jsx)(n.h3,{id:"enable-autocompletion-in-your-project",children:"Enable autocompletion in your project"}),"\n",(0,c.jsxs)(n.p,{children:["Update your ",(0,c.jsx)(n.code,{children:"architect.json"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "$schema": "./schemas/architect.schema.json",\n  "max_lines_per_function": 40,\n  ...\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Verified with ",(0,c.jsx)(n.code,{children:"cargo test --test test_config"}),"."]}),"\n",(0,c.jsx)(n.li,{children:"Manual verification of VS Code autocompletion."}),"\n",(0,c.jsxs)(n.li,{children:["Manual verification of the ",(0,c.jsx)(n.code,{children:"--check"})," flag."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>t});var o=i(6540);const c={},s=o.createContext(c);function r(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);