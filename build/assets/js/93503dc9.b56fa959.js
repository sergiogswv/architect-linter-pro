"use strict";(self.webpackChunkarchitect_linter_pro_docs=self.webpackChunkarchitect_linter_pro_docs||[]).push([[869],{6408(n,e,r){r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"troubleshooting/config-errors","title":"Configuration Errors","description":"This guide documents the most common errors when configuring architect.json and how to resolve them.","source":"@site/docs/troubleshooting/config-errors.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/config-errors","permalink":"/docs/troubleshooting/config-errors","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Configuration Errors","sidebar_label":"Config Errors"},"sidebar":"tutorialSidebar","previous":{"title":"Ai Config","permalink":"/docs/api-reference/ai-config"},"next":{"title":"Common Issues","permalink":"/docs/troubleshooting/common-issues"}}');var s=r(4848),o=r(8453);const l={title:"Configuration Errors",sidebar_label:"Config Errors"},c="Configuration Errors Guide",t={},a=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Basic Structure",id:"basic-structure",level:2},{value:"Common Errors",id:"common-errors",level:2},{value:"1. Invalid JSON Syntax",id:"1-invalid-json-syntax",level:3},{value:"2. Missing Field: max_lines_per_function",id:"2-missing-field-max_lines_per_function",level:3},{value:"3. Incorrect Data Type in max_lines_per_function",id:"3-incorrect-data-type-in-max_lines_per_function",level:3},{value:"4. Zero Value in max_lines_per_function",id:"4-zero-value-in-max_lines_per_function",level:3},{value:"5. Invalid Architecture Pattern",id:"5-invalid-architecture-pattern",level:3},{value:"6. Missing Field: architecture_pattern",id:"6-missing-field-architecture_pattern",level:3},{value:"7. forbidden_imports is not an Array",id:"7-forbidden_imports-is-not-an-array",level:3},{value:"8. Rule Missing &#39;from&#39; or &#39;to&#39; Field",id:"8-rule-missing-from-or-to-field",level:3},{value:"9. Duplicate Rules",id:"9-duplicate-rules",level:3},{value:"Validations",id:"validations",level:2},{value:"JSON Structure",id:"json-structure",level:3},{value:"Required Fields",id:"required-fields",level:3},{value:"Value Validations",id:"value-validations",level:3},{value:"Warnings (Non-Blocking)",id:"warnings-non-blocking",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Minimal Valid Configuration",id:"minimal-valid-configuration",level:3},{value:"Configuration for React",id:"configuration-for-react",level:3},{value:"Configuration for NestJS (Hexagonal)",id:"configuration-for-nestjs-hexagonal",level:3},{value:"Additional Help",id:"additional-help",level:2},{value:"Report Issues",id:"report-issues",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"configuration-errors-guide",children:"Configuration Errors Guide"})}),"\n",(0,s.jsxs)(e.p,{children:["This guide documents the most common errors when configuring ",(0,s.jsx)(e.code,{children:"architect.json"})," and how to resolve them."]}),"\n",(0,s.jsx)(e.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#basic-structure",children:"Basic Structure"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#common-errors",children:"Common Errors"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#validations",children:"Validations"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"basic-structure",children:"Basic Structure"}),"\n",(0,s.jsxs)(e.p,{children:["A valid ",(0,s.jsx)(e.code,{children:"architect.json"})," file must have this structure:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 50,\n  "architecture_pattern": "MVC",\n  "forbidden_imports": [\n    {\n      "from": "src/components/**",\n      "to": "src/services/**"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"common-errors",children:"Common Errors"}),"\n",(0,s.jsx)(e.h3,{id:"1-invalid-json-syntax",children:"1. Invalid JSON Syntax"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\xd7 JSON inv\xe1lido: expected `,` or `}` at line 4 column 3\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause:"})," Missing comma, brace, or extra character."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Incorrect example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 50,\n  "architecture_pattern": "MVC"  // \u2190 Missing comma here\n  "forbidden_imports": []\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 50,\n  "architecture_pattern": "MVC",  // \u2190 Comma added\n  "forbidden_imports": []\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\ud83d\udca1 Tip:"})," Use an online JSON validator like ",(0,s.jsx)(e.a,{href:"https://jsonlint.com/",children:"jsonlint.com"})," to verify syntax."]}),"\n",(0,s.jsx)(e.h3,{id:"2-missing-field-max_lines_per_function",children:"2. Missing Field: max_lines_per_function"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'\xd7 Falta el campo requerido: max_lines_per_function\nhelp: Agrega este campo con un n\xfamero, ejemplo: "max_lines_per_function": 40\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 40,  // \u2190 Field added\n  "architecture_pattern": "MVC",\n  "forbidden_imports": []\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Recommended values:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"React: 20-30 (small components)"}),"\n",(0,s.jsx)(e.li,{children:"NestJS: 30-50 (class methods)"}),"\n",(0,s.jsx)(e.li,{children:"Angular: 40-60 (complex components)"}),"\n",(0,s.jsx)(e.li,{children:"Express: 50-80 (handlers and middleware)"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"3-incorrect-data-type-in-max_lines_per_function",children:"3. Incorrect Data Type in max_lines_per_function"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\xd7 El campo 'max_lines_per_function' debe ser un n\xfamero\nhelp: Ejemplo correcto: \"max_lines_per_function\": 40\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Incorrect example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": "50",  // \u2190 String instead of number\n  ...\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 50,  // \u2190 Number without quotes\n  ...\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"4-zero-value-in-max_lines_per_function",children:"4. Zero Value in max_lines_per_function"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\xd7 max_lines_per_function no puede ser 0\nhelp: Usa un valor entre 10 y 500. Recomendado: 20-60 seg\xfan tu framework.\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})," Use a value greater than 0. If you want to disable this validation, use a very high value (500+)."]}),"\n",(0,s.jsx)(e.h3,{id:"5-invalid-architecture-pattern",children:"5. Invalid Architecture Pattern"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\xd7 Patr\xf3n arquitect\xf3nico inv\xe1lido: 'layered'\nhelp: Valores v\xe1lidos: Hexagonal, Clean, MVC, Ninguno\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Incorrect example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "architecture_pattern": "layered",  // \u2190 Not a valid value\n  ...\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "architecture_pattern": "MVC",  // \u2190 Use one of the valid values\n  ...\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Valid values:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"Hexagonal"'})," - For hexagonal architecture/ports and adapters"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"Clean"'})," - For Clean Architecture"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"MVC"'})," - For Model-View-Controller"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"Ninguno"'})," - No specific pattern"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u26a0\ufe0f Note:"})," Values are case-sensitive."]}),"\n",(0,s.jsx)(e.h3,{id:"6-missing-field-architecture_pattern",children:"6. Missing Field: architecture_pattern"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'\xd7 Falta el campo requerido: architecture_pattern\nhelp: Agrega este campo. Valores v\xe1lidos: "Hexagonal", "Clean", "MVC", "Ninguno"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 50,\n  "architecture_pattern": "MVC",  // \u2190 Field added\n  "forbidden_imports": []\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"7-forbidden_imports-is-not-an-array",children:"7. forbidden_imports is not an Array"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'\xd7 El campo \'forbidden_imports\' debe ser un array\nhelp: Ejemplo: "forbidden_imports": [{"from": "src/components/**", "to": "src/services/**"}]\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Incorrect example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "forbidden_imports": {  // \u2190 Object instead of array\n    "from": "src/components/**",\n    "to": "src/services/**"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "forbidden_imports": [  // \u2190 Array with brackets []\n    {\n      "from": "src/components/**",\n      "to": "src/services/**"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"8-rule-missing-from-or-to-field",children:"8. Rule Missing 'from' or 'to' Field"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'\xd7 La regla #1 no tiene el campo \'to\'\nhelp: Ejemplo: {"from": "src/components/**", "to": "src/services/**"}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Incorrect example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "forbidden_imports": [\n    {\n      "from": "src/components/**"\n      // \u2190 Missing "to" field\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "forbidden_imports": [\n    {\n      "from": "src/components/**",\n      "to": "src/services/**"  // \u2190 Field added\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"9-duplicate-rules",children:"9. Duplicate Rules"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Error:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\xd7 Regla duplicada: from 'src/components/**' to 'src/services/**'\nhelp: Elimina una de las reglas duplicadas en forbidden_imports.\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Incorrect example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "forbidden_imports": [\n    {\n      "from": "src/components/**",\n      "to": "src/services/**"\n    },\n    {\n      "from": "src/components/**",  // \u2190 Duplicate\n      "to": "src/services/**"       // \u2190 Duplicate\n    }\n  ]\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u2705 Solution:"})," Remove one of the duplicate rules."]}),"\n",(0,s.jsx)(e.h2,{id:"validations",children:"Validations"}),"\n",(0,s.jsx)(e.p,{children:"The linter automatically validates:"}),"\n",(0,s.jsx)(e.h3,{id:"json-structure",children:"JSON Structure"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u2705 Valid JSON syntax"}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 File is an object (between ",(0,s.jsx)(e.code,{children:"{}"}),")"]}),"\n",(0,s.jsx)(e.li,{children:"\u2705 All required fields present"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"required-fields",children:"Required Fields"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u2705 ",(0,s.jsx)(e.code,{children:"max_lines_per_function"})," (number)"]}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 ",(0,s.jsx)(e.code,{children:"architecture_pattern"})," (string)"]}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 ",(0,s.jsx)(e.code,{children:"forbidden_imports"})," (array)"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"value-validations",children:"Value Validations"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u2705 ",(0,s.jsx)(e.code,{children:"max_lines_per_function"})," > 0"]}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 ",(0,s.jsx)(e.code,{children:"max_lines_per_function"})," \u2264 1000"]}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 ",(0,s.jsx)(e.code,{children:"architecture_pattern"})," is one of: Hexagonal, Clean, MVC, Ninguno"]}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 Each rule has ",(0,s.jsx)(e.code,{children:"from"})," and ",(0,s.jsx)(e.code,{children:"to"})]}),"\n",(0,s.jsx)(e.li,{children:"\u2705 No duplicate rules"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"warnings-non-blocking",children:"Warnings (Non-Blocking)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u26a0\ufe0f If ",(0,s.jsx)(e.code,{children:"forbidden_imports"})," is empty, only function length is validated"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,s.jsx)(e.h3,{id:"minimal-valid-configuration",children:"Minimal Valid Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 50,\n  "architecture_pattern": "Ninguno",\n  "forbidden_imports": []\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"configuration-for-react",children:"Configuration for React"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 30,\n  "architecture_pattern": "MVC",\n  "forbidden_imports": [\n    {\n      "from": "src/components/**",\n      "to": "src/services/**"\n    },\n    {\n      "from": "src/components/**",\n      "to": "src/api/**"\n    },\n    {\n      "from": "src/hooks/**",\n      "to": "src/components/**"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"configuration-for-nestjs-hexagonal",children:"Configuration for NestJS (Hexagonal)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "max_lines_per_function": 40,\n  "architecture_pattern": "Hexagonal",\n  "forbidden_imports": [\n    {\n      "from": "/domain/",\n      "to": "/infrastructure/"\n    },\n    {\n      "from": "/application/",\n      "to": "/infrastructure/"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"additional-help",children:"Additional Help"}),"\n",(0,s.jsx)(e.p,{children:"If you encounter an error not documented here:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Read the complete error message - it always includes a solution suggestion"}),"\n",(0,s.jsxs)(e.li,{children:["Verify JSON syntax with ",(0,s.jsx)(e.a,{href:"https://jsonlint.com/",children:"jsonlint.com"})]}),"\n",(0,s.jsx)(e.li,{children:"Compare your configuration with the examples in this document"}),"\n",(0,s.jsxs)(e.li,{children:["Check the ",(0,s.jsx)(e.a,{href:"/docs/intro",children:"README.md"})," for more information about architectural patterns"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"report-issues",children:"Report Issues"}),"\n",(0,s.jsx)(e.p,{children:"If you believe you found a bug in the validation:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Open an issue at: ",(0,s.jsx)(e.a,{href:"https://github.com/sergio/architect-linter-pro/issues",children:"https://github.com/sergio/architect-linter-pro/issues"})]}),"\n",(0,s.jsxs)(e.li,{children:["Include your ",(0,s.jsx)(e.code,{children:"architect.json"})," file and the complete error message"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453(n,e,r){r.d(e,{R:()=>l,x:()=>c});var i=r(6540);const s={},o=i.createContext(s);function l(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);